<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MeAjude.com ‚Äî Acolhimento</title>
<meta name="description" content="MeAjude.com - Acolhimento para pessoas em luto, ansiedade e depress√£o. Mensagens de apoio, vers√≠culos e caminhos para ajuda."/>
<style>
  :root{
    --bg1:#f6f9ff; --bg2:#eef6f9; --card:#ffffff;
    --primary:#4a8df7; --accent:#8e9bf0; --danger:#c0392b;
    --muted:#6b7280; --rounded:14px;
    --maxw:720px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; padding:20px; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(160deg,var(--bg1),var(--bg2));
    color:#17202a; -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex; align-items:flex-start; justify-content:center;
  }
  .wrap{width:100%; max-width:var(--maxw);}
  header{
    display:flex; gap:12px; align-items:center; margin-bottom:14px;
  }
  .logo{
    width:64px; height:64px; background:linear-gradient(180deg,#fff 0%, #f0f8ff 100%);
    border-radius:14px; display:flex; align-items:center; justify-content:center; box-shadow:0 6px 18px rgba(20,40,80,0.08);
  }
  .brand h1{margin:0;font-size:18px;} .brand p{margin:0;color:var(--muted); font-size:13px}
  main{background:var(--card); border-radius:var(--rounded); padding:16px; box-shadow:0 8px 30px rgba(20,40,80,0.06)}
  textarea{
    width:100%; min-height:110px; padding:12px; border-radius:10px; border:1px solid #e6eefc;
    font-size:15px; resize:vertical;
  }
  .controls{display:flex; gap:8px; margin-top:10px; flex-wrap:wrap}
  button.btn{
    flex:1 1 auto; padding:12px 14px; border-radius:10px; border:0; font-weight:600;
    cursor:pointer;
  }
  button.primary{background:var(--primary); color:white}
  button.ghost{background:transparent; border:1px solid #dfe8ff; color:var(--primary)}
  button.warn{background: #ffecf0; color:var(--danger); border:1px solid rgba(192,57,43,0.08)}
  .result{margin-top:16px; padding:14px; border-radius:10px; background:linear-gradient(180deg,#fbfcff,#f1f7ff); display:none}
  .verse{margin-top:8px; font-style:italic; color:#2b477a}
  .urgent{margin-top:12px; padding:12px; background:#fff6f6; border-left:4px solid var(--danger); color:var(--danger); border-radius:8px; font-weight:700}
  .small{font-size:13px; color:var(--muted)}
  .flex-row{display:flex; gap:8px; align-items:center}
  .actions{display:flex; gap:8px; margin-top:12px; flex-wrap:wrap}
  .footer{margin-top:12px; font-size:13px; color:var(--muted)}
  /* Modal */
  .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1200; background:rgba(6,12,20,0.45)}
  .modal .card{width:94%; max-width:640px; background:white; padding:16px; border-radius:12px}
  .close{float:right; cursor:pointer; font-size:20px}
  /* breathing UI */
  .breath{
    width:84px; height:84px; border-radius:999px; display:flex; align-items:center; justify-content:center;
    margin:12px auto; background:linear-gradient(180deg,#f7fbff,#eef6ff); border:1px solid #e6f0ff;
  }
  .hidden{display:none}
  /* responsive */
  @media(min-width:720px){
    .controls button{flex:0 0 auto}
  }
  /* logo svg sizes */
  .logo svg {width:46px;height:46px}
  /* professional list */
  .pro-list{margin-top:10px}
  .pro-item{padding:10px;border-radius:8px;border:1px solid #f1f6ff;margin-bottom:8px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo" aria-hidden="true">
      <!-- simple warm logo: hands + heart -->
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#8e9bf0"/><stop offset="1" stop-color="#4a8df7"/>
          </linearGradient>
        </defs>
        <g fill="none" stroke="url(#g)" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 36c6-10 18-14 20-14s14 4 20 14" />
          <path d="M22 44c0 5 6 9 10 9s10-4 10-9" />
          <path d="M28 24c0-3 2-6 4-6s4 3 4 6c0 4-4 6-4 6s-4-2-4-6z" fill="#fff" stroke="none"/>
        </g>
      </svg>
    </div>
    <div class="brand">
      <h1>MeAjude.com</h1>
      <p class="small">Acolhimento &amp; apoio ‚Äî voc√™ n√£o est√° sozinho</p>
    </div>
  </header>

  <main role="main" aria-label="Painel principal">
    <p class="small">Escreva, fale sobre o que sente ou clique em "Me Ajude" para receber apoio.</p>
    <textarea id="inputText" placeholder="Ex.: Estou me sentindo sem esperan√ßa, n√£o sei o que fazer..."></textarea>
    <button class="btn ghost" id="voiceBtn">Falar üó£Ô∏è</button>
    <div class="controls">
      <button class="btn primary" id="analyzeBtn">Me Ajude üôè</button>
      <button class="btn ghost" id="breathBtn">Respira√ß√£o Guiada</button>
      <button class="btn ghost" id="prayBtn">Ore comigo</button>
    </div>

    <div class="result" id="resultBox" aria-live="polite">
      <div id="messageText"></div>
      <div class="verse" id="verseText"></div>
      <div class="urgent hidden" id="urgentBox">
        Se voc√™ est√° em risco de se machucar ou pensa em tirar a pr√≥pria vida, ligue agora para o CVV: <b>188</b> (24h). Procure emerg√™ncia local imediatamente.
        <div style="margin-top:8px"><button class="btn warn" id="cvvBtn">Ligar para o CVV ‚Äî 188</button></div>
      </div>
      <div class="small" style="margin-top:10px">Lembre-se: reconhecer limites e pedir ajuda √© um ato de coragem. Busque apoio profissional.</div>
    </div>

    <div class="actions">
      <button class="btn" id="susBtn">Busque Ajuda (SUS)</button>
      <button class="btn" id="professionalsBtn">Profissionais de Sa√∫de</button>
      <button class="btn" id="dangerBtn" style="background:#ff6b6b;color:white">Estou em perigo agora</button>
    </div>

    <div class="footer">
      <p class="small">CVV (Centro de Valoriza√ß√£o da Vida) ‚Äî Telefone: <b>188</b>. Em casos de emerg√™ncia, procure o servi√ßo de sa√∫de local.</p>
    </div>
  </main>
  
  // Reconhecimento de voz (Web Speech API)
let recognition;
if ("webkitSpeechRecognition" in window || "SpeechRecognition" in window) {
    
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    recognition = new SpeechRecognition();

    recognition.lang = "pt-BR";          // idioma
    recognition.continuous = false;      // para frases curtas
    recognition.interimResults = false;  // s√≥ envia quando tiver resultado final

    recognition.onresult = function(event) {
        const texto = event.results[0][0].transcript;
        document.getElementById("inputText").value = texto;
    };

    recognition.onerror = function(event) {
        alert("N√£o consegui ouvir claramente. Tente novamente.");
    };

} else {
    alert("Seu navegador n√£o suporta reconhecimento de voz.");
}

// bot√£o para iniciar a escuta
document.getElementById("voiceBtn")?.addEventListener("click", () => {
    if (recognition) recognition.start();
});

  <!-- Modal: Professionals -->
  <div class="modal" id="modalProf">
    <div class="card" role="dialog" aria-modal="true" aria-labelledby="proTitle">
      <span class="close" id="closeProf">&times;</span>
      <h2 id="proTitle">Profissionais de Sa√∫de (Prot√≥tipo)</h2>
      <p class="small">Digite sua cidade para ver profissionais ‚Äî prot√≥tipo com lista est√°tica (f√°cil de conectar a API).</p>
      <input type="text" id="cityInput" placeholder="Ex.: S√£o Paulo" style="width:100%;padding:10px;border-radius:8px;border:1px solid #eaeefc" />
      <div style="margin-top:8px"><button class="btn primary" id="searchPro">Buscar</button></div>
      <div class="pro-list" id="proList"></div>
    </div>
  </div>

  <!-- Modal: Danger / urgent -->
  <div class="modal" id="modalDanger">
    <div class="card" role="dialog" aria-modal="true">
      <span class="close" id="closeDanger">&times;</span>
      <h2 style="color:var(--danger)">Se voc√™ est√° em perigo agora</h2>
      <p><b>Telefone de emerg√™ncia CVV:</b> <b style="font-size:20px">188</b> ‚Äî dispon√≠vel 24 horas.</p>
      <p class="small">Se houver risco imediato, ligue para os servi√ßos de emerg√™ncia locais (SAMU/192 ou Bombeiros/193) ou v√° ao pronto-socorro mais pr√≥ximo.</p>
      <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap">
        <button class="btn primary" id="callCvvModal">Ligar CVV ‚Äî 188</button>
        <button class="btn ghost" id="closeDangerBtn">Voltar</button>
      </div>
    </div>
  </div>

  <!-- Modal: Breathing -->
  <div class="modal" id="modalBreath">
    <div class="card" role="dialog" aria-modal="true">
      <span class="close" id="closeBreath">&times;</span>
      <h2>Respira√ß√£o guiada</h2>
      <p class="small">Siga a esfera: inspire 4s ‚Äî segure 4s ‚Äî expire 6s. Repita 3 vezes.</p>
      <div class="breath" id="breathCircle" aria-hidden="true"></div>
      <div style="margin-top:10px; display:flex; gap:8px">
        <button class="btn primary" id="startBreath">Iniciar</button>
        <button class="btn ghost" id="stopBreath">Parar</button>
      </div>
    </div>
  </div>

  <!-- Modal: Prayer -->
  <div class="modal" id="modalPray">
    <div class="card" role="dialog" aria-modal="true">
      <span class="close" id="closePray">&times;</span>
      <h2>Ore comigo</h2>
      <p class="small">Uma ora√ß√£o curta para conforto.</p>
      <div style="margin-top:8px; font-style:italic; background:#fbfbff;padding:12px;border-radius:8px;">
        Senhor, Tu conheces meu cora√ß√£o. D√°-me descanso, acalma minha mente e mostra um caminho. D√° for√ßas para buscar ajuda. Am√©m.
      </div>
      <div style="margin-top:10px">
        <button class="btn primary" id="prayClose">Fechar</button>
      </div>
    </div>
  </div>

</div>

<script>
/*
  MeAjude.com - prot√≥tipo completo JS
  - palavras-chave em v√°rias categorias
  - 150 mensagens (25 por categoria)
  - vers√≠culos por categoria
  - an√°lise por contagem de ocorr√™ncias (peso maior para termos suicidas)
*/

// ---------- PALAVRAS-CHAVE ----------
const keywords = {
  suicidio: [
    "suic√≠dio","suicidio","me matar","quero morrer","n√£o quero mais viver",
    "n√£o quero mais","vou morrer","vou me matar","tirar a pr√≥pria vida","acabar com tudo",
    "sumir","desaparecer","cansei de viver","n√£o aguento mais viver","melhor sem mim",
    "melhor morto","melhor morrer","nao aguento","desisto","tirar minha vida","cortar os pulsos",
    "automutila√ß√£o","me cortar","me machucar","ningu√©m se importa","sou um peso","vida sem sentido"
  ],
  depressao: [
    "depress√£o","depressao","deprimido","deprimida","triste","tristeza",
    "vazio","des√¢nimo","desanimo","sem energia","sem for√ßa","apatia","sem vontade",
    "perdi tudo","esgotado","esgotada","peso no peito","dor na alma","saturado",
    "sem esperan√ßa","desesperan√ßa","choro constante","mal consigo respirar","sem motivos",
    "sinto que vou quebrar","me sinto quebrado","sem vontade de viver"
  ],
  ansiedade: [
    "ansiedade","ansioso","ansiosa","p√¢nico","panico","crise de ansiedade",
    "crise de p√¢nico","falta de ar","aperto no peito","medo constante","preocupa√ß√£o",
    "pensamentos acelerados","inquieta√ß√£o","tremores","ins√¥nia","sono ruim",
    "stress","estresse","afli√ß√£o","perdendo controle","susto","surtando","nervoso"
  ],
  solidao: [
    "sozinho","sozinha","solid√£o","solid√£o","ningu√©m me ama","ningu√©m me entende",
    "invis√≠vel","ignoraram","isolado","n√£o tenho amigos","sem apoio","abandono",
    "fui esquecido","me sinto s√≥","sem companhia","desamparado","nao tenho ninguem",
    "ningu√©m se importa","me sinto invis√≠vel","sentimento de abandono"
  ],
  traicao: [
    "fui tra√≠do","fui traida","fui tra√≠do","fui traida","trai√ß√£o","traicao","me traiu",
    "me deixou","terminou comigo","separa√ß√£o","fim do relacionamento","cora√ß√£o partido",
    "fui enganado","decep√ß√£o amorosa","n√£o vou superar","acabou comigo","me trocou",
    "trai√ß√£o emocional","perda do amor","ci√∫me","culpa"
  ],
  desespero: [
    "socorro","me ajude","me ajuda","o que eu fa√ßo","n√£o sei o que fazer","nao sei o que fazer",
    "tudo perdido","vida desmoronando","desespero","n√£o aguento mais","sobrecarregado",
    "sufocando","sem sa√≠da","perdi controle","estoura","colapso","preciso de ajuda",
    "procuro ajuda","n√£o sei mais","como viver","o que fa√ßo agora"
  ]
};

// ---------- MENSAGENS (25 por categoria = 150 mensagens) ----------
const messages = {
  suicidio: [
    "Eu estou aqui com voc√™. Sua vida importa muito e merece cuidado.",
    "Mesmo na escurid√£o, existe ajuda e pessoas que se importam. Procure agora.",
    "Se voc√™ pensa em se machucar, ligue para o CVV (188) ‚Äî fale com algu√©m agora.",
    "Sua dor √© real, mas podemos buscar formas de aliviar. N√£o est√° sozinho.",
    "Respire. Vamos dar um passo de cada vez ‚Äî buscar ajuda √© coragem.",
    "Voc√™ √© importante. Mesmo que pare√ßa pesado agora, n√£o est√° sozinho.",
    "N√£o precisa lidar com isso sozinho. Compartilhar √© um ato de coragem.",
    "H√° profissionais prontos para ouvir sem julgamentos. Procure apoio.",
    "Sua hist√≥ria tem valor. Procure algu√©m que possa te ajudar a continuar.",
    "Segurar a dor sozinho aumenta o peso. Pe√ßa ajuda agora, por favor.",
    "Muitas pessoas encontram sa√≠da com apoio. Voc√™ n√£o precisa desistir.",
    "Se est√° em perigo, contate servi√ßos de emerg√™ncia ou o CVV imediatamente.",
    "Voc√™ merece cuidado e carinho ‚Äî busque ajuda profissional agora.",
    "Saiba que pedir ajuda n√£o √© fraqueza; √© o primeiro passo para se curar.",
    "Voc√™ importa para algu√©m, mesmo que hoje n√£o consiga ver. Fale com algu√©m.",
    "Quando a dor √© grande, agir r√°pido pode salvar uma vida. Procure apoio.",
    "Falar sobre isso pode diminuir o peso. D√™ um passo e ligue para algu√©m.",
    "Pequenos passos salvam ‚Äî compartilhe o que sente com algu√©m de confian√ßa.",
    "N√£o espere se a sensa√ß√£o de perigo aumenta. Procure ajuda imediata.",
    "H√° linhas de apoio e servi√ßos que querem ouvir voc√™ ‚Äî use-os agora.",
    "Seu sofrimento merece aten√ß√£o imediata. Procure um servi√ßo de emerg√™ncia.",
    "Voc√™ √© mais que seus pensamentos ‚Äî procure amparo humano agora.",
    "Permita-se pedir ajuda; existem profissionais que entendem e acolhem.",
    "Seu presente pode mudar com apoio. Pe√ßa ajuda agora e com urg√™ncia.",
    "Quando a mente d√≥i muito, falar j√° √© um respiro ‚Äî ligue 188."
  ],
  depressao: [
    "Sei que d√≥i muito agora. Permita-se descansar e pedir ajuda.",
    "A depress√£o n√£o define voc√™. Buscar ajuda √© um passo gentil consigo.",
    "Hoje pode ser pesado, mas h√° caminhos de cuidado e tratamento.",
    "Reconhecer a dor √© coragem ‚Äî procure apoio profissional e pr√≥ximo de voc√™.",
    "Pequenos passos de autocuidado importam: √°gua, sono e falar com algu√©m.",
    "Voc√™ n√£o precisa carregar isso sozinho. H√° profissionais que entendem.",
    "A recupera√ß√£o √© poss√≠vel; d√™-se permiss√£o para receber ajuda.",
    "Mesmo sem for√ßas, pedir ajuda √© um ato de bravura.",
    "N√£o ignore sua dor ‚Äî ela pede aten√ß√£o e cuidado especializado.",
    "Compartilhar o que sente pode ser o come√ßo da recupera√ß√£o.",
    "Aceitar apoio mostra for√ßa. Procure um psic√≥logo ou m√©dico de confian√ßa.",
    "A cura pode ser gradual ‚Äî celebre cada pequeno avan√ßo.",
    "Voc√™ merece cuidado humano e profissional. Comece pedindo ajuda.",
    "H√° tratamentos que ajudam. Voc√™ n√£o est√° condenado a essa dor.",
    "Sentir-se assim n√£o √© falha ‚Äî √© sinal de que voc√™ precisa de cuidado.",
    "Procure um amigo, fam√≠lia ou servi√ßo de sa√∫de ‚Äî fale com algu√©m hoje.",
    "Mesmo que nada pare√ßa funcionar ainda, continue buscando apoio.",
    "Acolha-se com gentileza e d√™ tempo ao processo de cura.",
    "Pe√ßa ajuda para criar um plano pequeno e fact√≠vel de cuidados.",
    "Voc√™ √© valioso; a depress√£o n√£o pode apagar seu valor.",
    "Permita que algu√©m caminhe com voc√™ durante esse tempo dif√≠cil.",
    "A mudan√ßa √© poss√≠vel com o suporte certo. Busque ajuda constante.",
    "Medica√ß√£o, terapia e suporte social ajudam ‚Äî informe-se com um profissional.",
    "N√£o espere que tudo melhore sozinho ‚Äî inicie uma busca por ajuda.",
    "Voc√™ j√° demonstrou coragem por estar aqui; continue pedindo suporte."
  ],
  ansiedade: [
    "Respire devagar ‚Äî inspire, segure, expire. Est√° tudo bem pedir ajuda.",
    "Ansiedade √© uma resposta intensa; com apoio voc√™ pode aprender a control√°-la.",
    "Voc√™ n√£o precisa enfrentar a ansiedade sozinho. H√° t√©cnicas e profissionais.",
    "A calma pode ser re-treinada com pr√°ticas simples e apoio profissional.",
    "Quando o cora√ß√£o acelera, pare por um momento e respire conscientemente.",
    "Procure um profissional para aprender estrat√©gias para crises de ansiedade.",
    "Voc√™ n√£o √© fraco por sentir ansiedade ‚Äî √© humano. Pe√ßa ajuda.",
    "T√©cnicas de respira√ß√£o e terapia podem reduzir grande parte da ang√∫stia.",
    "Identificar gatilhos √© um passo importante ‚Äî um terapeuta pode ajudar.",
    "Permita-se pausar e cuidar. Estrat√©gias simples ajudam no curto prazo.",
    "Compartilhar o que sente com algu√©m de confian√ßa j√° √© um al√≠vio.",
    "Procure grupos de apoio ou terapia para lidar com a ansiedade.",
    "Medica√ß√£o pode ajudar em alguns casos ‚Äî converse com um m√©dico.",
    "A sensa√ß√£o passa com pr√°ticas e suporte adequados. Busque orienta√ß√£o.",
    "Respire e lembre-se: voc√™ n√£o est√° sozinho nessa jornada.",
    "Aceitar que precisa de ajuda √© um passo de coragem, n√£o de fraqueza.",
    "Ferramentas pr√°ticas existem ‚Äî pe√ßa orienta√ß√£o profissional.",
    "A ansiedade n√£o precisa dirigir sua vida; h√° caminhos para controle.",
    "Fale sobre seus medos com algu√©m que te escute sem julgar.",
    "Pequenas rotinas (sono, exerc√≠cio) reduzem a intensidade dos sintomas.",
    "Buscar ajuda precoce evita que a ansiedade se torne cr√¥nica.",
    "Voc√™ pode aprender a reagir diferente ‚Äî procure um especialista.",
    "Respire, abrace a pausa e busque suporte profissional.",
    "H√° t√©cnicas imediatas para crises ‚Äî procure um profissional para aprender mais."
  ],
  solidao: [
    "Voc√™ importa e merece ser ouvido. Procure falar com algu√©m hoje.",
    "Estar sozinho n√£o significa que voc√™ est√° sozinho para sempre.",
    "Pe√ßa uma liga√ß√£o a um amigo ou servi√ßo de apoio ‚Äî conex√£o cura.",
    "Procure grupos, igrejas, ONGs locais ‚Äî h√° redes de acolhimento.",
    "Abrir seu cora√ß√£o para algu√©m √© um passo de coragem e cura.",
    "Mesmo pequenas conex√µes di√°rias podem diminuir a solid√£o.",
    "Voc√™ n√£o precisa carregar a dor de solid√£o sozinho.",
    "Buscar ajuda profissional tamb√©m √© uma forma de encontrar companhia terap√™utica.",
    "Compartilhe um pouco do que sente ‚Äî algu√©m pode estar esperando para ajudar.",
    "Participar de atividades locais pode criar la√ßos aos poucos.",
    "Acolher-se e pedir companhia √© um gesto de amor pr√≥prio.",
    "A solid√£o n√£o √© sua identidade ‚Äî ela √© uma experi√™ncia que pode mudar.",
    "Permita-se receber convites e sinais de cuidado dos outros.",
    "Procure apoio comunit√°rio; muitos se sentem como voc√™ e se conectam.",
    "Voc√™ pode encontrar compreens√£o em terapeutas e grupos de apoio.",
    "Tente uma pequena a√ß√£o social hoje: uma liga√ß√£o, uma mensagem.",
    "Mesmo que pare√ßa dif√≠cil, tente se abrir com algu√©m de confian√ßa.",
    "A presen√ßa de outro ser humano pode suavizar a dor profunda.",
    "Invista em pequenas rotinas sociais ‚Äî elas constroem conex√µes reais.",
    "Voc√™ merece presen√ßa e cuidado ‚Äî busque ativamente apoio.",
    "N√£o espere que a solid√£o acabe sozinha ‚Äî inicie passos para mudar.",
    "Voc√™ n√£o √© esquecido ‚Äî pe√ßa ajuda e permita que outros ajudem.",
    "Acolher-se e aceitar ajuda √© coragem. Procure apoio local.",
    "Construir novas conex√µes leva tempo, mas cada passo conta."
  ],
  traicao: [
    "Sinto muito pela dor que a trai√ß√£o causou ‚Äî sua rea√ß√£o √© compreens√≠vel.",
    "Cora√ß√£o partido d√≥i ‚Äî permita-se chorar e buscar apoio.",
    "Procure amigos e terapia para processar essa perda e reconstruir-se.",
    "A trai√ß√£o n√£o define seu valor; voc√™ merece amor e respeito.",
    "Reconhecer a dor √© o primeiro passo para a cura emocional.",
    "Permita-se tempo para se curar ‚Äî a pressa n√£o ajuda o cora√ß√£o ferido.",
    "H√° caminhos para reconstru√ß√£o ap√≥s trai√ß√£o; busque orienta√ß√£o especializada.",
    "Fale sobre seus sentimentos com algu√©m que possa ouvir sem julgar.",
    "Voc√™ pode aprender com a dor e reconstruir sua hist√≥ria.",
    "Acolher a pr√≥pria vulnerabilidade √© sinal de for√ßa.",
    "Procure apoio profissional para traumas afetivos e autoestima abalada.",
    "Reconectar-se consigo mesmo √© essencial ap√≥s uma decep√ß√£o amorosa.",
    "Permita-se reconstruir limites e sa√∫de emocional.",
    "Voc√™ merece relacionamentos respeitosos e seguros no futuro.",
    "A dor da trai√ß√£o diminui com tempo e apoio adequado.",
    "Procure estrat√©gias pr√°ticas para lidar com ci√∫me e culpa.",
    "Voc√™ n√£o precisa carregar a solid√£o dessa dor ‚Äî pe√ßa ajuda.",
    "Apoio terap√™utico ajuda a ressignificar o sofrimento.",
    "D√™ pequenos passos para cuidar de si e de suas emo√ß√µes.",
    "Perdoar (se quiser) √© um processo ‚Äî n√£o se apresse.",
    "Busque companhia que respeite seu processo de cura.",
    "Reafirme seu valor: voc√™ √© digno de amor sincero.",
    "Fortale√ßa sua rede de apoio e escolha quem merece sua confian√ßa.",
    "Permita-se sonhar com novos come√ßos quando estiver pronto."
  ],
  desespero: [
    "Quando tudo parece sem sa√≠da, pe√ßa ajuda ‚Äî h√° alternativas.",
    "Focar em um pequeno pr√≥ximo passo ajuda a diminuir o desespero.",
    "Voc√™ n√£o precisa resolver tudo de uma vez ‚Äî comece com algo simples.",
    "Compartilhar sua situa√ß√£o pode abrir portas para solu√ß√µes pr√°ticas.",
    "Procure servi√ßos sociais e profissionais que podem ajudar concretamente.",
    "Se sentir sufocado, fa√ßa uma pausa e procure apoio imediato.",
    "Voc√™ n√£o est√° condenado a essa situa√ß√£o ‚Äî h√° possibilidades.",
    "Buscar ajuda mostra coragem e aumenta suas chances de melhora.",
    "Tentar dividir a carga com algu√©m j√° √© um passo poderoso.",
    "T√©cnicas de cuidado di√°rio ajudam a estabilizar os dias dif√≠ceis.",
    "Procure orienta√ß√£o profissional para criar um plano realista.",
    "Voc√™ merece suporte pr√°tico e emocional ‚Äî busque ambos.",
    "Explorar recursos locais pode trazer solu√ß√µes r√°pidas.",
    "Pequenas a√ß√µes cont√≠nuas geram mudan√ßas ao longo do tempo.",
    "Se a press√£o aumenta, procure ajuda urgente ‚Äî fale com algu√©m agora.",
    "Acolher seus sentimentos permite clarear pr√≥ximos passos.",
    "N√£o menospreze seu sofrimento ‚Äî busque interven√ß√µes pr√°ticas.",
    "H√° profissionais que ajudam a organizar a crise em etapas.",
    "Permita-se pedir socorro: isso √© sinal de maturidade e coragem.",
    "Procure redes sociais e servi√ßos locais que atuem em crise.",
    "A esperan√ßa pode surgir com apoio e a√ß√µes concretas.",
    "Mesmo em caos, um pequeno plano pode trazer al√≠vio imediato.",
    "Busque suporte que une assist√™ncia emocional e pr√°tica.",
    "Voc√™ n√£o precisa enfrentar tudo sozinho ‚Äî pe√ßa ajuda."
  ]
};

// ---------- VERS√çCULOS (v√°rios por categoria) ----------
const verses = {
  suicidio: [
    "Salmo 34:18 ‚Äî O Senhor est√° perto dos que t√™m o cora√ß√£o quebrantado.",
    "Salmo 23:4 ‚Äî Ainda que eu ande pelo vale da sombra da morte, n√£o temerei mal algum; tu est√°s comigo.",
    "Isa√≠as 41:10 ‚Äî N√£o temas, porque eu sou contigo; n√£o te assombres, porque eu sou teu Deus.",
    "Mateus 11:28 ‚Äî Vinde a mim os cansados e eu vos aliviarei.",
    "Jeremias 29:11 ‚Äî Eu sei os planos que tenho para v√≥s, diz o Senhor, planos de paz."
  ],
  depressao: [
    "Mateus 11:28 ‚Äî Venham a mim os que est√£o cansados e eu lhes darei descanso.",
    "Salmo 30:5 ‚Äî O choro pode durar uma noite, mas a alegria vem pela manh√£.",
    "Filipenses 4:6-7 ‚Äî N√£o andem ansiosos... e a paz de Deus guardar√° o cora√ß√£o.",
    "Isa√≠as 40:31 ‚Äî Os que esperam no Senhor renovar√£o as suas for√ßas.",
    "Salmo 42:11 ‚Äî Por que est√°s abatida, √≥ minha alma? Espera em Deus."
  ],
  ansiedade: [
    "1 Pedro 5:7 ‚Äî Lancem sobre ele toda a ansiedade, porque ele tem cuidado de voc√™s.",
    "Filipenses 4:6 ‚Äî N√£o andem ansiosos por coisa alguma.",
    "Salmo 56:3 ‚Äî Quando eu estiver com medo, confiarei em ti.",
    "Isa√≠as 26:3 ‚Äî Tu conservar√°s em paz aquele cujo prop√≥sito est√° firme.",
    "Josu√© 1:9 ‚Äî N√£o te mandei eu? S√™ forte e corajoso."
  ],
  solidao: [
    "Hebreus 13:5 ‚Äî Nunca te deixarei, nem te desampararei.",
    "Deuteron√¥mio 31:6 ‚Äî O Senhor vai adiante de ti; n√£o te deixar√° nem te desamparar√°.",
    "Salmo 27:10 ‚Äî Ainda que meus pais me deixem, o Senhor me recolher√°.",
    "Salmo 68:5 ‚Äî Pai dos √≥rf√£os e protetor das vi√∫vas.",
    "Mateus 28:20 ‚Äî Estou convosco todos os dias."
  ],
  traicao: [
    "Salmo 34:18 ‚Äî O Senhor est√° perto dos que t√™m o cora√ß√£o quebrantado.",
    "Salmo 147:3 ‚Äî Cura os quebrantados de cora√ß√£o, e liga as suas feridas.",
    "Romanos 8:28 ‚Äî Todas as coisas cooperam para o bem dos que amam a Deus.",
    "Lamenta√ß√µes 3:22-23 ‚Äî As miseric√≥rdias do Senhor n√£o t√™m fim; s√£o novas a cada manh√£.",
    "Prov√©rbios 3:5 ‚Äî Confia no Senhor de todo o teu cora√ß√£o."
  ],
  desespero: [
    "Salmo 46:1 ‚Äî Deus √© nosso ref√∫gio e fortaleza, socorro bem presente na ang√∫stia.",
    "Mateus 6:34 ‚Äî N√£o vos preocupeis com o amanh√£; cada dia tem seu cuidado.",
    "Isa√≠as 43:2 ‚Äî Quando passares pelas √°guas estarei contigo.",
    "Romanos 15:13 ‚Äî Que o Deus da esperan√ßa vos encha de alegria e paz.",
    "Salmo 91:4 ‚Äî Ele te cobrir√° com suas penas, e debaixo das suas asas estar√°s seguro."
  ]
};

// ---------- L√ìGICA DE AN√ÅLISE ----------
function analyzeText(text){
  const t = text.toLowerCase();
  const scores = {};
  // inicializa
  for(const k in keywords) scores[k]=0;
  // conta ocorr√™ncias
  for(const k in keywords){
    keywords[k].forEach(kw=>{
      // palavra inteira ou express√£o
      if(t.includes(kw)) {
        // weight: termos suicidas t√™m maior peso
        const w = (k==='suicidio') ? 6 : 1;
        scores[k] += w;
      }
    });
  }
  // tamb√©m checa presen√ßa de m√∫ltiplos termos via regex de frases de risco
  const riskRegex = /(\b(me matar|quero morrer|tirar a pr√≥pria vida|n√£o aguento mais|desisto|melhor morrer|acabou comigo)\b)/i;
  const isRisk = riskRegex.test(text);
  // escolhe a maior pontua√ß√£o
  let best = 'desespero';
  let max = -1;
  for(const k in scores){
    if(scores[k] > max){ max = scores[k]; best = k; }
  }
  // se n√£o h√° hits, tenta detectar vazio -> desespero fallback
  if(max<=0) best='desespero';
  return {category:best, scores, isRisk};
}

// ---------- UTILIT√ÅRIOS ----------
function randFrom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

function showResult(msg,verse,isRisk){
  const box=document.getElementById('resultBox');
  document.getElementById('messageText').innerText = msg;
  document.getElementById('verseText').innerText = verse;
  // urgent box
  const urgent = document.getElementById('urgentBox');
  if(isRisk) urgent.classList.remove('hidden'); else urgent.classList.add('hidden');
  box.style.display='block';
  // scroll into view (mobile)
  setTimeout(()=>box.scrollIntoView({behavior:'smooth', block:'center'}),100);
}

// ---------- EVENTOS ----------
document.getElementById('analyzeBtn').addEventListener('click', ()=>{
  const text = document.getElementById('inputText').value.trim();
  const {category,isRisk} = analyzeText(text);
  // seleciona mensagem e versiculo
  const msg = randFrom(messages[category]);
  const verse = randFrom(verses[category]);
  showResult(msg,verse,isRisk);
});

document.getElementById('susBtn').addEventListener('click', ()=>{
  window.open('https://www.gov.br/saude/pt-br/assuntos/saude-de-a-a-z/s/saude-mental','_blank');
});

// CVV button handlers (these cannot actually dial in browser; show instructions)
document.getElementById('cvvBtn').addEventListener('click', ()=>{
  alert('Se puder, ligue agora para o CVV: 188 ‚Äî se estiver no Brasil. Em caso de risco imediato, ligue para os servi√ßos de emerg√™ncia locais.');
});
document.getElementById('dangerBtn').addEventListener('click', ()=>{
  document.getElementById('modalDanger').style.display='flex';
});
document.getElementById('closeDanger').addEventListener('click', ()=>document.getElementById('modalDanger').style.display='none');
document.getElementById('closeDangerBtn').addEventListener('click', ()=>document.getElementById('modalDanger').style.display='none');
document.getElementById('callCvvModal').addEventListener('click', ()=>alert('Ligar para CVV: 188 ‚Äî procure atendimento de emerg√™ncia local se houver risco.'));
document.getElementById('professionalsBtn').addEventListener('click', ()=>document.getElementById('modalProf').style.display='flex');
document.getElementById('closeProf').addEventListener('click', ()=>document.getElementById('modalProf').style.display='none');
document.getElementById('searchPro').addEventListener('click', showPrototypes);

// close modal when clicking outside
document.querySelectorAll('.modal').forEach(m=>{
  m.addEventListener('click', (e)=>{
    if(e.target === m) m.style.display='none';
  });
});

// breath modal
document.getElementById('breathBtn').addEventListener('click', ()=>document.getElementById('modalBreath').style.display='flex');
document.getElementById('closeBreath').addEventListener('click', ()=>document.getElementById('modalBreath').style.display='none');
document.getElementById('startBreath').addEventListener('click', startBreathing);
document.getElementById('stopBreath').addEventListener('click', stopBreathing);

// prayer modal
document.getElementById('prayBtn').addEventListener('click', ()=>document.getElementById('modalPray').style.display='flex');
document.getElementById('closePray').addEventListener('click', ()=>document.getElementById('modalPray').style.display='none');
document.getElementById('prayClose').addEventListener('click', ()=>document.getElementById('modalPray').style.display='none');

// ---------- PROFESSIONALS PROTOTYPE (static) ----------
function showPrototypes(){
  const city = document.getElementById('cityInput').value || 'sua cidade';
  const list = document.getElementById('proList');
  // exemplo est√°tico - f√°cil de substituir por API
  const sample = [
    {name:"Dr. Jo√£o Silva", role:"Psiquiatra", address:"Rua Principal, 123", phone:"(11) 3000-0000", site:""},
    {name:"Dra. Ana Moura", role:"Psic√≥loga", address:"Av. Central, 45", phone:"(11) 98888-0000", site:""},
    {name:"Cl√≠nica Nova Esperan√ßa", role:"Equipe Multidisciplinar", address:"R. das Flores, 77", phone:"(11) 4000-1111", site:"https://clinicanova.ex"}
  ];
  let html = `<p class="small">Prot√≥tipo: resultados para <b>${city}</b> ‚Äî conecte a uma base real (ex.: lista de profissionais do CRM/Conselho regional).</p>`;
  sample.forEach(s=>{
    html += `<div class="pro-item"><b>${s.name}</b> ‚Äî ${s.role}<div class="small">${s.address} ‚Ä¢ ${s.phone} ${s.site ? '‚Ä¢ ' + s.site : ''}</div></div>`;
  });
  list.innerHTML = html;
}

// ---------- BREATHING ANIMATION ----------
let breathInterval = null;
function startBreathing(){
  const circle = document.getElementById('breathCircle');
  let step = 0;
  // times: inspire 4s, hold 4s, exhale 6s => loop 14s
  const cycle = [
    {scale:1.0, dur:0}, // initial
  ];
  if(breathInterval) clearInterval(breathInterval);
  // animate using CSS transform with JS timers
  function animateOnce(){
    // inspire 4s
    circle.style.transition = 'transform 4s ease-in-out';
    circle.style.transform = 'scale(1.4)';
    setTimeout(()=>{ // hold 4s
      circle.style.transition = 'transform 4s linear';
      // hold stays
      setTimeout(()=>{ // exhale 6s
        circle.style.transition = 'transform 6s ease-in-out';
        circle.style.transform = 'scale(0.8)';
      }, 4000);
    }, 4000);
  }
  animateOnce();
  breathInterval = setInterval(animateOnce, 14000);
}
function stopBreathing(){ if(breathInterval) clearInterval(breathInterval); breathInterval=null;
  const circle = document.getElementById('breathCircle'); circle.style.transform='scale(1)'; circle.style.transition='transform 300ms';
}

// ---------- Inicializa√ß√£o: pequenas dicas na primeira carga ----------
window.addEventListener('load', ()=>{
  // opcional: mostrar uma mensagem inicial acolhedora
  // document.getElementById('resultBox').style.display='block';
  // document.getElementById('messageText').innerText = 'Se precisar, escreva aqui o que sente. Clique em "Me Ajude" para receber uma mensagem de apoio.';
  // document.getElementById('verseText').innerText = 'Lembrete: CVV ‚Äî 188.';
});

// ---------- Observa√ß√£o final: nada aqui substitui ajuda profissional ----------
/* Nota: este prot√≥tipo foi feito para acolhimento e indica√ß√£o de ajuda. N√£o substitui avalia√ß√£o cl√≠nica. */
</script>
